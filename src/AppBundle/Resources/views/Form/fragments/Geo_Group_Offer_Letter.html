<div class="modal" id="modal" style="display:none;"> 
              <div class="modal-content"> 
                             <h2 class="lifesuite__h2"><strong>Electronic Signature</strong></h2> 
                             <p style="fontweight:normal;padding:0px"> 
                                           <$client.env.eval(client.env.param.verbiage.length()==0? 'I understand that by electronically signing this document by typing my full name below, that I acknowledge, agree and attest that the information provided by me is true and correct and I am freely intending to create and adopt as my own a legally binding electronic signature that carries the same legal effect and enforceability as my handwritten signature.':client.env.param.verbiage)> 
                             </p> 
                             <br> 
                             <div class="row"> 
                                            <div class="lifesuite__clearfix"> 
                                                          <b>Type your Name:</b> <input type=text id="eSignature1" class="lifesuite__text-input ng-invalid" style="width: 99%">&nbsp; 
                                            </div> 
                             </div> 
                             <div class="row"> 
                                           <div class="lifesuite__clearfix lifesuite__float-right" style="margin-right:-15px; width: 278px;"> 

                                                         <input style="margin-top:10px" type="button" class="lifesuite__button primary" value="Sign" onClick="validateSignature('signature','eSignature1','fullName','modal','over','sv', 'date');xbObj('eSignature1').value='';">&nbsp; 

                                                          <input type="button" class="lifesuite__button" value="Clear" onClick="xbObj('signature').value='';showHide('modal');showHide('over');xbObj('eSignature1').value='';">&nbsp; 

                                                          <input type="button" class="lifesuite__button" value="Cancel" onClick="showHide('modal');showHide('over');xbObj('eSignature1').value='';"> 
                                           </div> 
                            </div> 
              </div> 
</div> 

<div class="modal" id="modal2" style="display:none;"> 
              <div class="modal-content"> 
                             <h2 class="lifesuite__h2"><strong>Electronic Signature</strong></h2> 
                             <p style="font-weight:normal;padding:0px"> 
                                           <$client.env.eval(client.env.param.verbiage.length()==0? 'I understand that by electronically signing this document by typing my full name below, that I acknowledge, agree and attest that the information provided by me is true and correct and I am freely intending to create and adopt as my own a legally binding electronic signature that carries the same legal effect and enforceability as my handwritten signature.':client.env.param.verbiage)> 
                             </p> 
                             <br> 
                             <div class="row"> 
                                            <div class="lifesuite__clearfix"> 
                                                          <b>Type your Name:</b> <input type=text id="eSignature2" class="lifesuite__text-input ng-invalid" style="width: 99%">&nbsp; 
                                            </div> 
                             </div> 
                             <div class="row"> 
                                           <div class="lifesuite__clearfix lifesuite__float-right" style="margin-right:-15px; width: 278px;"> 

                                                         <input style="margin-top:10px" type="button" class="lifesuite__button primary" value="Sign" onClick="validateSignature('approver_signature','eSignature2','approver_name','modal2','over','sv2');xbObj('eSignature2').value='';">&nbsp; 

                                                          <input type="button" class="lifesuite__button" value="Clear" onClick="xbObj('approver_signature').value='';showHide('modal2');showHide('over');xbObj('eSignature2').value='';">&nbsp; 

                                                          <input type="button" class="lifesuite__button" value="Cancel" onClick="showHide('modal2');showHide('over');xbObj('eSignature2').value='';"> 
                                           </div> 
                            </div> 
              </div> 
</div> 


<div id="over" style="display:none;"></div> 

<SCRIPT> 

    showScreen('over') 

</SCRIPT> 
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 
  
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 
<!-- RESPONSIVE eFORM PAGE LOADER--> 
  
<div class="modal" style="display:block; background: #002E6D;"> 
              <div class="fb-spinner"> 
                             <i class="fa fa-2x fa-spinner fa-pulse"></i> 
              </div> 
</div> 
  
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 
 
<form name='frmForm' action="<$link;config.path.RCFolder_FormTemplates>/<$name;<$client.current.parent>>/doSave?<$client.env.QUERY_STRING>" method="post" onsubmit="return SubmitCallback(this);"> 

<div style="display:none;">
<$client.env.FormField.Form_Name.prompt>
<$client.env.FormField.Form_Name.HTML>
<$client.env.FormField.Form_Type.prompt>
<$client.env.FormField.Form_Type.HTML>
<$client.env.FormField.Form_Owner.prompt>
<$client.env.FormField.Form_Owner.HTML>
<$client.env.FormField.Form_CreateDate.prompt>
<$client.env.FormField.Form_CreateDate.HTML>
<$client.env.FormField.Form_Completed.prompt>
<$client.env.FormField.Form_Completed.HTML>
<$client.env.FormField.Form_Delivered.prompt>
<$client.env.FormField.Form_Delivered.HTML>
<$client.env.FormField.Form_TaskId.prompt>
<$client.env.FormField.Form_TaskId.HTML>
<$client.env.FormField.display_version.HTML>
<!-- Your Required/Validated Form Fields -->

<$client.env.FormField.approver_signature.prompt>
<$client.env.FormField.signature.prompt>
<$client.env.FormField.date.prompt>
<$client.env.FormField.signatureVerification.prompt>
</div>

<input type="hidden" name="tagparamlist" value="<$client.env.tagparamlist>">

<!-- Begin HTML Content -->
<div class="container-fluid" style="margin:50px;">
     <div id='incomplete'>

           <div id="markup"></div>

     </div> <!-- incomplete -->
    <div id='complete'></div> 

    <div class="row">
        <div class="col-md-12">

            <div class="field-group">    
                <div class='row'>
                    <div class='col-xs-11 col-md-6'>
                        <$client.env.formfield.approver_signature.html> 
                    </div>
                </div>
            </div>   
            <br>
        </div> <!-- col-md-12 -->
    </div> <!-- row -->

    <div id="container2">
        <div id="incomplete2">

            <div id="markup2"></div>

        </div> <!-- incomplete -->
    <div id="complete2"></div>

    <div class="row">
        <div class="col-md-12">

            <div id='fields'>    
                <div class='row'>

                    <div class='col-xs-11 col-md-6'>
                        
                        <$client.env.formfield.signature.html> 
                        <label id="fullname"></label> | Signature
                        </div>
                        <div class='col-xs-11  col-md-4'>
                            <$client.env.formfield.date.html>
                            <label>Date</label>
                        </div>
                </div>
            </div>   
            <br>



        </div> <!-- col-md-12 -->
    </div> <!-- row -->
    <br><br>
    <hr class="lifesuite__hr">
</div> <!-- container -->

<div style="display:none">
<$client.env.FormField.headerpg1.HTML>
<$client.env.FormField.header_logo.HTML>
<$client.env.FormField.hidden_pg.HTML>
<$client.env.FormField.hidden_pg2.HTML>
<$client.env.FormField.signatureVerification.HTML>
<$client.env.FormField.signatureVerification2.HTML>
<$client.env.FormField.fullname.HTML>
<$client.env.FormField.approver_name.HTML>
</div>

<$client.env.FormButtons>
</form>
<script type="text/javascript" src="<$link;/map_images/main/RedCarpet/FormTemplates/FormSupport/js/moment-with-locales.min.js>"></script>
<script>
 ChangeCalendarIcons(); //for popup calendar  

$(window).load(function() { 
    $("#buttonCancel").removeClass().addClass("lifesuite__button").prop('id','ButtonCancel');
    $("#buttonSave").removeClass().addClass("lifesuite__button primary").prop('id','ButtonSave');
    $("#buttonSaveAndComplete").removeClass().addClass("lifesuite__button primary").prop('id','ButtonSaveAndComplete');
    $("#buttonPrint").removeClass().addClass("lifesuite__button primary").prop('id','ButtonPrint');
    $("#buttonPreviewDelete").removeClass().addClass("lifesuite__button").prop('id','ButtonPreviewDelete');
    $("#buttonPreviewSave").removeClass().addClass("lifesuite__button primary").prop('id','ButtonPreviewSave');
    $("#buttonComplete").removeClass().addClass("lifesuite__button primary").prop('id','ButtonComplete');
    $('#formButtons').show();
    $("input[type=text]").addClass('lifesuite__text-input');
    $("input[type=text].hasDatepicker").addClass('dateField');
    $("select").addClass('lifesuite__select-input');
    $("input[type=radio]").addClass('lifesuite__radio');
    $("input[type=checkbox]").addClass('lifesuite__checkbox');
    $("textarea").addClass('lifesuite__textarea-input');
    $('label').addClass('lifesuite__input-label lifesuite__inputâ€”block');
    $('.disabled-date').parent().find('input').prop('disabled', 'disabled');
});  

var fullname ="<$client.tForWhomUserInfo.First_Name> <$client.env.eval(client.tForWhomUserInfo.Middle_Name.length()>0?'<$client.tForWhomUserInfo.Middle_Name> ':'')><$client.tForWhomUserInfo.Last_Name>";  
document.getElementById('fullname').innerHTML = fullname;
//Fixes to modal issue when viewing in mobile devices 
$( window ).resize(function() { 
    document.getElementById('over').style.width=''; 
});

const approverSignature = document.querySelector('#approver_signature');
if (<$client.env.eval(client.tEventManagers_Person_18.UserGuid==account.userguid?'true':'false')> || <$client.env.eval(client.role.Offer_Approver>0?'true':'false')>) {
    document.getElementById('approver_name').value = '<$client.account.username_first> <$client.account.username>';
    approverSignature.dataset.approver = 1;
    if (jQuery('.calendar_button').length > 0) {
        approverSignature.classList.add('ng-invalid');
        approverSignature.disabled = false;
    } 
    approverSignature.addEventListener('change', function() {
        signatureVerification('sv2')
    });
    approverSignature.addEventListener('focus', function() {
        openESig('modal2','over',this);
        document.getElementById('eSignature2').focus();
    });
}
</script>

<script type="text/javascript" src="script5.js" defer></script>
