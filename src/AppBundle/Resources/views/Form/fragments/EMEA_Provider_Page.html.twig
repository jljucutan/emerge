<div id="task_summary_outer">
    <div id="bg-image">.</div>
    <div id="EditProfile_container">
        <div id="EditProfile_wrapper">
            <div id="EditProfile">
                <h2>Launch Onboarding Event</h2>
                <h4>This page simplifies the process of launching an onboarding event.</h4>
                <div class="heading">
                    <span class="heading-inner">
                        POSITION INFORMATION
                    </span>
                </div>
                <div class="input_wrapper" data-fieldgroup-title="<$client.env.promptBusiness_Title>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptBusiness_Title></span>
                    <$client.env.inputBusiness_Title>
                </div>
                <div class="input_wrapper" data-fieldgroup-title="<$client.env.promptSystemTitle>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptSystemTitle></span>
                    <$client.env.inputSystemTitle>
                </div>
                <div class="merge">
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptSalaryGradeLvl>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptSalaryGradeLvl></span>
                        <$client.env.inputSalaryGradeLvl>
                    </div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptEmployee_Group_CD>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptEmployee_Group_CD></span>
                        <$client.env.inputEmployee_Group_CD>
                    </div>
                </div>
                <div class="merge">
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptExempt>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptExempt></span>
                        <$client.env.inputExempt>
                    </div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptJobType>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptJobType></span>
                        <$client.env.inputJobType>
                    </div>
                </div>
                <div class="input_wrapper" data-fieldgroup-title="<$client.env.promptEnityName>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptEnityName></span>
                    <$client.env.inputEnityName>
                </div>
                <div class="input_wrapper mb-30" data-fieldgroup-title="<$client.env.promptEntityAddress>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptEntityAddress></span>
                    <$client.env.inputEntityAddress>
                </div>
                <div class="heading">
                    <span class="heading-inner">
                        COMPENSATION
                    </span>
                </div>
                <div class="merge">
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptSALARY_CURRENCY>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptSALARY_CURRENCY></span>
                        <$client.env.inputSALARY_CURRENCY>
                    </div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptSalary_Amount>" data-fieldgroup-validation="required,regex"  data-fieldgroup-regex="(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$" data-fieldgroup-message="consisting of number, comma, and/or period">
                        <span class="floating-label"><$client.env.promptSalary_Amount></span>
                        <$client.env.inputSalary_Amount>
                    </div>
                </div>
                <div class="merge">
                    <div class="input_wrapper mb-0 hidden-xs"></div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptSalaryOffered>" data-fieldgroup-validation="required,regex"  data-fieldgroup-regex="(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$" data-fieldgroup-message="consisting of number, comma, and/or period">
                        <span class="floating-label"><$client.env.promptSalaryOffered></span>
                        <$client.env.inputSalaryOffered>
                    </div>
                </div>
                <div class="input_wrapper" data-fieldgroup-title="<$client.env.prompteIP_Target_Pct>" data-fieldgroup-maxlength="3" data-fieldgroup-validation="regex"  data-fieldgroup-regex="^[0-9]+$" data-fieldgroup-message="consisting of numbers only">
                    <span class="floating-label"><$client.env.prompteIP_Target_Pct></span>
                    <$client.env.inputeIP_Target_Pct>
                </div>
                <div class="input_wrapper mb-30" data-fieldgroup-title="<$client.env.promptNEW_HIRE_REST_STOCK_UNITS>" data-fieldgroup-validation="regex"  data-fieldgroup-regex="(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$" data-fieldgroup-message="consisting of number, comma, and/or period">
                    <span class="floating-label"><$client.env.promptNEW_HIRE_REST_STOCK_UNITS></span>
                    <$client.env.inputNEW_HIRE_REST_STOCK_UNITS>
                </div>

                <div class="heading">
                    <span class="heading-inner">
                        BONUS
                    </span>
                </div>
                <div class="input_wrapper mb-13" data-fieldgroup-title="<$client.env.promptHire_on_Bonus_Eligible>" data-fieldgroup-validation="required" data-fieldgroup-targetlabel="#Hire_on_Bonus_Eligible_label">
                    <label id="Hire_on_Bonus_Eligible_label">
                        <strong>Does this employee qualify for an annual bonus (equals one-month salary)?</strong>
                    </label>
                    <$client.env.inputHire_on_Bonus_Eligible>
                </div>
                <div class="merge equal">
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptHIRE_ON_BONUS_CRNCY_CD>" data-fieldgroup-validation="required">
                        <span class="floating-label"><$client.env.promptHIRE_ON_BONUS_CRNCY_CD></span>
                        <$client.env.inputHIRE_ON_BONUS_CRNCY_CD>
                    </div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptHIRE_ON_BONUS_AMOUNT>" data-fieldgroup-validation="required,regex"  data-fieldgroup-regex="(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$" data-fieldgroup-message="consisting of number, comma, and/or period">
                        <span class="floating-label"><$client.env.promptHIRE_ON_BONUS_AMOUNT></span>
                        <$client.env.inputHIRE_ON_BONUS_AMOUNT>
                    </div>
                </div>
                <div class="merge mb-30 equal">
                    <div class="input_wrapper mb-0 hidden-xs"></div>
                    <div class="input_wrapper mb-0" data-fieldgroup-title="<$client.env.promptInstallment_Amount>" data-fieldgroup-validation="required,regex"  data-fieldgroup-regex="(?=.*?\d)^\$?(([1-9]\d{0,2}(,\d{3})*)|\d+)?(\.\d{1,2})?$" data-fieldgroup-message="consisting of number, comma, and/or period">
                        <span class="floating-label"><$client.env.promptInstallment_Amount></span>
                        <$client.env.inputInstallment_Amount>
                    </div>
                </div>

                <div class="heading">
                    <span class="heading-inner">
                        PROBATION
                    </span>
                </div>
                <div class="input_wrapper mb-13" data-fieldgroup-title="<$client.env.promptProbationPeriodRequired>" data-fieldgroup-validation="required" data-fieldgroup-targetlabel="#ProbationPeriodRequired_label">
                    <label id="ProbationPeriodRequired_label">
                        <strong>Is a probation period required for this employee?</strong>
                    </label>
                    <$client.env.inputProbationPeriodRequired>
                </div>
                <div class="input_wrapper mb-13" data-fieldgroup-title="<$client.env.promptProbationPeriodTime>" data-fieldgroup-validation="required" data-fieldgroup-targetlabel="#ProbationPeriodTime_label">
                    <label id="ProbationPeriodTime_label">
                        <strong>If yes, select the probation period timeframe?</strong>
                    </label>
                    <$client.env.inputProbationPeriodTime>
                </div>

                <div class="heading" data-location-group="FRA">
                    <span class="heading-inner">
                        FRANCE-SPECIFIC SECTION
                    </span>
                </div>
                <div class="input_wrapper mb-13" data-fieldgroup-title="<$client.env.promptCitizenship_Status>" data-fieldgroup-validation="required" data-fieldgroup-targetlabel="#Citizenship_Status_label">
                    <label id="Citizenship_Status_label">
                        <strong>Is this employee a citizen, permanent resident, or allowed to work in France without a work visa?</strong>
                    </label>
                    <$client.env.inputCitizenship_Status>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Salutation>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_Salutation></span>
                    <$client.env.inputFrench_Salutation>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptNationality>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptNationality></span>
                    <$client.env.inputNationality>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptDOB>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptDOB></span>
                    <$client.env.inputDOB>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="National Identification Number (nombre de sécurité sociale)">
                    <span class="floating-label"><$client.env.promptSSNO></span>
                    <$client.env.inputSSNO>
                </div>
                <div class="input_wrapper mb-30" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Coefficient>">
                    <span class="floating-label"><$client.env.promptFrench_Coefficient></span>
                    <$client.env.inputFrench_Coefficient>
                </div>

                <div class="heading" data-location-group="FRA">
                    <span class="heading-inner">
                        TRANSLATE TO FRENCH
                    </span>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Business_Title>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_Business_Title></span>
                    <$client.env.inputFrench_Business_Title>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Salary_Words>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_Salary_Words></span>
                    <$client.env.inputFrench_Salary_Words>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Previous_Employment>">
                    <span class="floating-label"><$client.env.promptFrench_Previous_Employment></span>
                    <$client.env.inputFrench_Previous_Employment>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Nationality>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_Nationality></span>
                    <$client.env.inputFrench_Nationality>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Current_Long_Date>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_Current_Long_Date></span>
                    <$client.env.inputFrench_Current_Long_Date>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_start_date>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptFrench_start_date></span>
                    <$client.env.inputFrench_start_date>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Transfer_Country>">
                    <span class="floating-label"><$client.env.promptFrench_Transfer_Country></span>
                    <$client.env.inputFrench_Transfer_Country>
                </div>
                <div class="input_wrapper" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Transfer_City>">
                    <span class="floating-label"><$client.env.promptFrench_Transfer_City></span>
                    <$client.env.inputFrench_Transfer_City>
                </div>
                <div class="input_wrapper mb-30" data-location-group="FRA" data-fieldgroup-title="<$client.env.promptFrench_Transfer_Entity>">
                    <span class="floating-label"><$client.env.promptFrench_Transfer_Entity></span>
                    <$client.env.inputFrench_Transfer_Entity>
                </div>

                <div class="heading" data-location-group="RUS">
                    <span class="heading-inner">
                        RUSSIA-SPECIFIC SECTION
                    </span>
                </div>
                <div class="input_wrapper mb-13" data-fieldgroup-title="<$client.env.promptCitizenship_Status>" data-fieldgroup-validation="required" data-fieldgroup-targetlabel="#Citizenship_Status_label">
                    <label id="Citizenship_Status_label">
                        <strong>Is this employee a citizen, permanent resident, or allowed to work in Russia without a work visa?</strong>
                    </label>
                    <$client.env.inputCitizenship_Status>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptPassportNo>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptPassportNo></span>
                    <$client.env.inputPassportNo>
                </div>

                <div class="input_wrapper mb-30" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Business_Division>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptRussian_Business_Division></span>
                    <$client.env.inputRussian_Business_Division>
                </div>

                <div class="heading" data-location-group="RUS">
                    <span class="heading-inner">
                        TRANSLATE TO RUSSIA
                    </span>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Business_Title>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptRussian_Business_Title></span>
                    <$client.env.inputRussian_Business_Title>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Business_Division>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptRussian_Business_Division></span>
                    <$client.env.inputRussian_Business_Division>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Manager_Title>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptRussian_Manager_Title></span>
                    <$client.env.inputRussian_Manager_Title>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Temporary_Duration>">
                    <span class="floating-label"><$client.env.promptRussian_Temporary_Duration></span>
                    <$client.env.inputRussian_Temporary_Duration>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Temporary_Reason>">
                    <span class="floating-label"><$client.env.promptRussian_Temporary_Reason></span>
                    <$client.env.inputRussian_Temporary_Reason>
                </div>
                <div class="input_wrapper" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_current_long_date>" data-fieldgroup-validation="required">
                    <span class="floating-label"><$client.env.promptRussian_current_long_date></span>
                    <$client.env.inputRussian_current_long_date>
                </div>
                <div class="input_wrapper mb-30" data-location-group="RUS" data-fieldgroup-title="<$client.env.promptRussian_Start_Date>">
                    <span class="floating-label"><$client.env.promptRussian_Start_Date></span>
                    <$client.env.inputRussian_Start_Date>
                </div>
                
                <div class="button_group">
                    <div id="save"></div>
                    <div id="saveandcomplete"></div>
                    <div id="cancel"></div>
                </div>

            </div>
        </div>
    </div>
</div>

<input type="hidden" id="Site_Name" name="Site_Name" value="<$client.env.index.site_name>" />
<input type="hidden" id="Evt_Location_Code" name="Evt_Location_Code" value="<$client.tEventCategories_Category_11.Code>" />
<input type="hidden" id="Evt_Location" name="Evt_Location" value="<$client.tEventCategories_Category_11.Value>" />

<link href="<$link;/main/RedCarpet/FormTemplates/FormSupport/css/front_validator.css>" rel="stylesheet" type="text/css">
<script type="text/javascript" src="<$link;/main/SiteGen/DynamicContent/Snippets/Paypal_EditProfile/js>/country.js"></script>
<script type="text/javascript" src="<$link;/main/SiteGen/DynamicContent/Snippets/Paypal_EditProfile/js>/custom-paypal.js"></script>
<script type="text/javascript" src="<$link;/main/RedCarpet/FormTemplates/FormSupport/js/moment-with-locales.min.js>"></script>
<script type="text/javascript" src="<$link;/main/RedCarpet/FormTemplates/FormSupport/js/front_validator.js>" defer></script>

<script type="text/javascript">
    /**
     * SERVICES-36405 | jjucutan | PayPal - Create EMEA Provider Page
     * Define here functions that can be reused
     */
    var focusInputLabel = function(el, isFocused) {
        var label = el.closest('.input_wrapper')
            .find('span.floating-label')
            .removeClass('label-focus')
            .css({"color": "#666666"});
        if (el.val().trim().length > 0 || isFocused) {
            label.addClass('label-focus');
        }
        if (isFocused === true) {
            label.css({"color": "#0070BA"});
        }
    }
    var updateTargetOnChange = function(origin, target) {
        origin.on('change', function() {
            target.val(origin.val());
            if (origin.is(':checked')) {
                target.val(origin.val());
            }
            if (origin.hasClass('hasDatepicker')) {
                target.val(moment().diff(origin.val(), 'years'));
            }
        });
    }
    var fieldHasVal = function(el) {
        var hasVal = false;
        $.each(el, function(k, v) {
            if ($(v).val().length) {
                hasVal = true;
            }
        });
        return hasVal;
    }
    var isCheckboxChecked = function(el) {
        var hasChecked = false;
        $.each(el, function(k,v){
            if ($(v).is(':checked')) {
                hasChecked = true;
            }
        });
        return hasChecked;
    }
    var setDefaultValue = function(el, defaultValue) {
        if (el.is('input[type="checkbox"]') || el.is('input[type="radio"]')) {
            if (!isCheckboxChecked(el)) {
                $.each(el, function(k,v) {
                    if ($(v).val() === defaultValue) {
                        $(v).prop('checked', 'checked');
                    }
                });
            }
            el.val([defaultValue]);
        }
        if (el.is('input[type="text"]') && el.val().trim().length < 1) {
            el.val(defaultValue);
        }
    }
    $(window).on('load', function() {
        var months = ["January","February","March","April","May","June","July", "August","September","October","November","December"];
        $('.floating-label span').css('color', 'rgb(102, 102, 102)');
        $('.cal_and_button').prop('cellpadding', 0).prop('cellspacing', 0);
        var isProfileCompleted = sTaskComplete;
        // replace default submit button with paypal styled
        $('#TaskSummary_ButtonCancel').appendTo('#cancel').show();
        if (!isProfileCompleted) {
            $('#TaskSummary_ButtonSave').appendTo('#saveandcomplete').prop('onclick', null).show().text('Continue');
            $('#EUPDefaultSaveButton').appendTo('#save').show();
        }

        // load form when all set
        $('#EditProfile_wrapper').fadeIn();
        

        // set datepickers

        // focus style text and select fields
        $('form').on('focus', 'input[type="text"], select', function() {
            focusInputLabel($(this), true);
        }).on('blur', 'input[type="text"], select', function() {
            focusInputLabel($(this));
        });
        // focus style date fields
        $('form').on('focus change', 'input.hasDatepicker', function() {
            focusInputLabel($(this), true);
        }).on('blur change', 'input.hasDatepicker', function() {
            focusInputLabel($(this));
        });
        $('form').on('focus change', '.datepicker_button', function() {
            focusInputLabel($(this).closest('.cal_and_button').find('input[type="text"]'), true);
        }).on('blur change', '.datepicker_button', function() {
            focusInputLabel($(this).closest('.cal_and_button').find('input[type="text"]'));
            $(this).parent().find('.hasDatepicker').trigger('change'); 
        });

        // hide sections not on event location
        $.each($('[data-location-group]'), function(k,v) {
            if($(v).data('location-group') !== $('#Evt_Location_Code').val().substring(0,3)) {
                $(v).hide().find('input[type="text"]').val("");
            }
        });

        // pass validation data to each fields
        $.each($('[data-fieldgroup-validation]'), function(k,v) {
            $(v).find('input:not(":hidden"), select:visible').data('validation', $(v).data('fieldgroup-validation'));
        });
        // pass regex data to each fields
        $.each($('[data-fieldgroup-regex]'), function(k,v) {
            $(v).find('input:not(":hidden")').data('regex', $(v).data('fieldgroup-regex'));
        });
        // pass regex message to each fields
        $.each($('[data-fieldgroup-message]'), function(k,v) {
            $(v).find('input:not(":hidden")').data('message', $(v).data('fieldgroup-message'));
        });

        // pass validation data length to each fields
        $.each($('[data-fieldgroup-minlength]'), function(k,v) {
            $(v).find('input:not(":hidden")').data('minlength', $(v).data('fieldgroup-minlength'));
        });
        $.each($('[data-fieldgroup-maxlength]'), function(k,v) {
            $(v).find('input:not(":hidden")').data('maxlength', $(v).data('fieldgroup-maxlength'));
        });
        
        // pass target label to each radio or checkbox fields
        $.each($('[data-fieldgroup-targetlabel]'), function(k,v) {
            $(v).find('input[type="checkbox"]:not(":hidden"), input[type="radio"]:not(":hidden")').data('label', $(v).data('fieldgroup-targetlabel'));
        });

        // pass title data to each fields
        $.each($('[data-fieldgroup-title]'), function(k,v) {
            $(v).find('input:not(":hidden"), select').data('title', $(v).data('fieldgroup-title'));
        });

        // focus field labels
        $.each($('form input[type="text"]:not(":hidden"), form select'),function(k,v) {
            focusInputLabel($(v));
        });

        // validate each field
        $('form').on('blur click', 'input[type="text"]:not(":hidden"), select', function() {
            if(!validateField($(this))) {
                $(this).parent().find('.text-error').css({'display': 'inline-block', 'margin-bottom': '-2px'}); // style hack since IE is such a reliable browser ;-) // changed block to inline-block
            }
        });

        // validate each date fields
        $('form').on('change', 'input[name$="_display"]:not(":hidden"), input.hasDatepicker', function() {
            validateField($(this)); 
        });

        // submit the form if no errors
        $('form').on('click', '#TaskSummary_ButtonSave', function(e) {
            e.preventDefault();
            var formIsValid = true;
            $.each($('form input:not(":hidden"):not(".datepicker_button"), form select'), function(k,v) {
                if(!validateField($(v))) {
                    formIsValid = false;
                }
            })
            if (formIsValid) {
                doSave_Custom('refer-Complete');
            }
            else {
                $("html, body").animate({ scrollTop: 0 }, "slow");
            }
        });

    });
</script>
