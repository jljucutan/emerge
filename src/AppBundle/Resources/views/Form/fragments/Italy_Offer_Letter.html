<!-- Modal E-Signature box: Note there is a DIV below that is also needed to implement --> 
<div class="modal" id="modal" style="display:none;">
    <div class="modal-content">
        <p class="lifesuite__h2" style="margin-left: 0;"><strong>Electronic Signature</strong></p>
        <p><$client.env.eval(client.env.param.verbiage.length()==0? 'I understand that by electronically signing this document by typing my full name below, that I acknowledge, agree and attest that the information provided by me is true and correct and I am freely intending to create and adopt as my own a legally binding electronic signature that carries the same legal effect and enforceability as my handwritten signature.':client.env.param.verbiage)></p>
        <div class="row">
            <div class="col-lg-12">
                <b>Type your Name:</b> <input type=text id="eSignature1" class="lifesuite__text-input ng-invalid" style="width: 99%">&nbsp; 
                <div class="lifesuite__clearfix lifesuite__float-right" style="margin-right:-15px; width: 278px;"> 
                    <input type="button" class="lifesuite__button primary" value="Sign" onClick="validateSignature('signature','eSignature1','full_name','modal','over','sv','date');xbObj('eSignature1').value='';document.getElementById('eSignature1').focus();">&nbsp; 
                    <input type="button" class="lifesuite__button" value="Clear" onClick="xbObj('signature').value='';showHide('modal');showHide('over');xbObj('eSignature1').value='';if (typeof targetdatecheckCLEAR == 'function' ){targetdatecheckCLEAR('signature','date');}">&nbsp; 
                    <input type="button" class="lifesuite__button" value="Cancel" onClick="showHide('modal');showHide('over');xbObj('eSignature1').value='';"> 
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="modal2" style="display:none;">
    <div class="modal-content">
        <p class="lifesuite__h2" style="margin-left: 0;"><strong>Electronic Signature</strong></p>
        <p><$client.env.eval(client.env.param.verbiage.length()==0? 'I understand that by electronically signing this document by typing my full name below, that I acknowledge, agree and attest that the information provided by me is true and correct and I am freely intending to create and adopt as my own a legally binding electronic signature that carries the same legal effect and enforceability as my handwritten signature.':client.env.param.verbiage)></p>
        <div class="row">
            <div class="col-lg-12"> 
                <strong>Type your Name:</strong> <input type=text id="eSignature2" class="lifesuite__text-input ng-invalid" style="width: 99%">&nbsp; 
                <div class="lifesuite__clearfix lifesuite__float-right" style="margin-right:-15px; width: 278px;"> 
                    <input type="button" class="lifesuite__button primary" value="Sign" onClick="validateSignature('signature2','eSignature2','SignerMan','modal2','over','sv2','date2');xbObj('eSignature2').value='';document.getElementById('eSignature2').focus();">&nbsp; 
                    <input id="clear-sig-2" type="button" class="lifesuite__button" value="Clear" onClick="xbObj('signature2').value='';showHide('modal2');showHide('over');xbObj('eSignature2').value='';if (typeof targetdatecheckCLEAR == 'function' ){targetdatecheckCLEAR('signature2','date2');}">&nbsp; 
                    <input type="button" class="lifesuite__button" value="Cancel" onClick="showHide('modal2');showHide('over');xbObj('eSignature2').value='';"> 
                </div>
            </div>
        </div>
    </div>
</div>

<div id="over" style="display:none;"></div>
<!-- RESPONSIVE eFORM PAGE LOADER-->
<div class="modal" style="display:block; background: #002E6D;">
  <div class="fb-spinner">
    <i class="fa fa-2x fa-spinner fa-pulse"></i>
  </div>
</div>
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<form id="italy-offer-letter" name="frmForm" action="<$link;config.path.RCFolder_FormTemplates>/<$name;<$client.current.parent>>/doSave?<$client.env.QUERY_STRING>" method="post" onsubmit="return SubmitCallback(this);" role="form">
    <div hidden>
        <$client.env.FormField.Form_Name.prompt>
        <$client.env.FormField.Form_Name.HTML>
        <$client.env.FormField.Form_Type.prompt>
        <$client.env.FormField.Form_Type.HTML>
        <$client.env.FormField.Form_Owner.prompt>
        <$client.env.FormField.Form_Owner.HTML>
        <$client.env.FormField.Form_CreateDate.prompt>
        <$client.env.FormField.Form_CreateDate.HTML>
        <$client.env.FormField.Form_Completed.prompt>
        <$client.env.FormField.Form_Completed.HTML>
        <$client.env.FormField.Form_Delivered.prompt>
        <$client.env.FormField.Form_Delivered.HTML>
        <$client.env.FormField.Form_TaskId.prompt>
        <$client.env.FormField.Form_TaskId.HTML>
        <$client.env.FormField.display_version.HTML>
        <!-- Replace With eForm Specific Data Field Prompts From Formalizer-->
    </div>
    <input type="hidden" name="tagparamlist" value="<$client.env.tagparamlist>">
<main class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <div class="img-wrapper">
                <img src="<$link;/RedCarpet/Onboarding/Uploads/Images/paypal_logo.jpg>" alt="PayPal Logo" class="img-responsive">
            </div>
        </div>
    </div>
    <template id="fragment-1">
        <p>&nbsp;</p>
        <p class="sidebar-address"><mark><$client.tForWhomUserInfo.EnityName></mark><br>Italiana -Via Roberto Lepetit 8/10,<br>20124 Milano Registered Address: Ballycoolin Business Park,<br>Ballycoolin Road, Blanchardstown,<br>Dublin 15, D15 VNC4 <br>Registered in Ireland No. 646492</p>
    </template>
    <template id="fragment-2">
        <p>&nbsp;</p>
        <p class="mb-5">
            <mark><$client.tForWhomUserInfo.First_Name> <$client.tForWhomUserInfo.Middle_Name><$client.env.eval(client.tForWhomUserInfo.Middle_Name.length()>0?' ':'')><$client.tForWhomUserInfo.Last_Name></mark><br>
            <mark><$client.tForWhomUserInfo.Address1></mark><br>
            <% if ('<$client.tForWhomUserInfo.Address2>'.length > 0) { %>
            <mark><$client.tForWhomUserInfo.Address2></mark><br>
            <% } %>
            <mark><$client.tForWhomUserInfo.Zip></mark>&nbsp;<mark><$client.tForWhomUserInfo.City></mark>
        </p>
        <p class="hide"></p>
        <p class="text-right">Milan, <%= Current_Date %></p>
        <p class="text-justify">Dear <mark><$client.env.eval(client.tForWhomUserInfo.Preferred_First_Name.length()>0?client.tForWhomUserInfo.Preferred_First_Name:client.tForWhomUserInfo.First_Name)></mark>,</p>
        <p class="text-justify">Further to your <% if ('<$client.tForWhomUserInfo.EMPLOYEE_GROUP_CD>'=='T') { %><mark>application for a full-time fixed term position and your</mark><% } %> recent meetings and discussions, I am delighted to offer you the position of <mark><$client.tForWhomUserInfo.Business_Title></mark> with <mark><$client.tForWhomUserInfo.EnityName></mark> (the "Company").</p>
        <p class="text-justify">Your gross annual base salary will be <mark><$client.tForWhomUserInfo.Salary_Amount></mark> Euros, <% if ('<$client.tForWhomUserInfo.EMPLOYEE_GROUP_CD>'=='T') { %><mark>prorated,</mark><% } %> paid monthly, directly into your bank account. </p>
        <% if ('<$client.tForWhomUserInfo.Workplace_Model>' == 'In-Office') { %>
        <div class="marked">
            <div id="<%= makeid(); %>" data-toggle="popover" data-placement="top" data-content="Workplace Model = In Office"></div>
            <p class="text-justify">You will be required to work from the Companyâ€™s office located at <mark><$client.tForWhomUserInfo.LOCATION_DISPLAYNAME></mark>. From time to time, you may be required to work at other locations, as directed by the Company.</p>
        </div>
        <% } %>
        <% if ('<$client.tForWhomUserInfo.Workplace_Model>' == 'Virtual Flex') { %>
        <div class="marked">
            <div id="<%= makeid(); %>" data-toggle="popover" data-placement="top" data-content="Workplace Model = Virtual Flex"></div>
            <p class="text-justify">Your role may be performed outside of a PayPal office part of the time with the use of virtual working tools we provide. You must work virtually from a location near to the <mark><$client.tForWhomUserInfo.LOCATION_DISPLAYNAME></mark> PayPal office, within Italy. In addition to any in-person working, you may also be required to attend a PayPal office for in-person collaboration.  We may amend or end the location of your role or remove the ability to work virtually at any time and will give you notice (but will not provide any compensation) if we do so.  You may find more details, including our expectations of you, within our Offsite Working Policy and associated policies.</p>
        </div>
        <% } %>
        <% if ('<$client.tForWhomUserInfo.Workplace_Model>' == 'Virtual') { %>
        <div class="marked">
            <div id="<%= makeid(); %>" data-toggle="popover" data-placement="top" data-content="Workplace Model = Virtual"></div>
            <p class="text-justify">Your role may be performed outside of a PayPal office, within Italy with the use of virtual working tools we provide. You may also be required to attend a PayPal office for in-person collaboration.  You may find more details, including our expectations of you, within our Offsite Working Policy and associated policies.</p>
        </div>
        <% } %>
        <% if ('<$client.tEventCategories_Category_31.Value>' == 'Yes') { %>
        <div class="marked">
            <div id="<%= makeid(); %>" data-toggle="popover" data-placement="top" data-content="AIP = Yes"></div>
            <p class="text-justify">You will be eligible to participate in the PayPal Holdings, Inc. Annual Incentive Plan for a specified fiscal year (AIP) with an annual bonus based on individual achievement as well as company performance.  The annual bonus period is from January 1 through December 31. Your target bonus for the AIP is <mark><$client.tForWhomUserInfo.eIP_Target_Pct></mark>% of your annual base salary, pro-rated based on your hire date and days of service during the AIP bonus period.  There is no guarantee any AIP bonus will be awarded or received, and any actual bonus will be determined after the end of the annual bonus period. Any AIP bonus, even if it is made repeatedly or regularly and whatever its amount, can never lead to a vested right for you, the employee.</p>
            <p class="text-justify">To be eligible to receive any AIP bonus, you must be employed before October 1st and you must be in continuous employment on the date the bonus is received, subject to applicable laws. If your employment start date with a PayPal company commences on or after October 1st, your eligibility to participate in the AIP will begin on January 1st of the following calendar year. Any bonus is at PayPalâ€™s sole and absolute discretion and subject to the terms and conditions of the AIP.  PayPal reserves the right, in its sole discretion, to amend, change or cancel the AIP at any time.  Further, the bonus plan that you are eligible to participate in may change over time.  You acknowledge and agree that PayPal may substitute the plan referenced in this letter and any contract of employment or any offer documentation, as it determines in its sole discretion from time to time.</p>
        </div>
        <% } %>
        <% if ('<$client.tForWhomUserInfo.Relocation>' == 'Y') { %>
            <% if ('<$client.tForWhomUserInfo.Relo_Bonus>' == 'No') { %>
            <div class="marked">
                <div id="<%= makeid(); %>" data-toggle="popover" data-placement="top" data-content="Employee Relocating"></div>
                <p class="text-justify">To help you relocate from <mark><$client.tForWhomUserInfo.RelocationFrom></mark> to <mark><$client.tForWhomUserInfo.PayAreaCity></mark>, you will be entitled to benefits as outlined in your Relocation Agreement.</p>
                <p class="text-justify">Should your employment be terminated by the Company for a justified reason for which you are responsible or as a result of your resignation within 12 full months from your start date, all miscellaneous and lump sum cash allowances must be repaid in full.</p>
                <p class="text-justify">Upon acceptance of this offer letter our relocation partner AIRES will contact you directly to initiate this process.</p>
            </div>
            <% } %>
        <% } %>
        <% if ('<$client.tForWhomUserInfo.Relocation>' == 'Y') { %>
            <% if ('<$client.tForWhomUserInfo.Relo_Bonus>' == 'Yes') { %>
            <div class="marked">
                <div id="<%= makeid() %>" data-toggle="popover" data-placement="top" data-content="Employee Relocating"></div>
                <p class="text-justify">To help you relocate from <mark><$client.tForWhomUserInfo.RelocationFrom></mark> to <mark><$client.tForWhomUserInfo.PayAreaCity></mark>, you will receive a one-time miscellaneous lump sum cash allowance of <mark><$client.tForWhomUserInfo.ESTIMATED_RELO_COST></mark>&nbsp;<mark><$client.tForWhomUserInfo.ESTIMATED_RELO_COST_CRNCY_CD></mark> payable NET with your first salary. Should your employment be terminated by the Company for a justified reason for which you are responsible or as a result of your resignation within 12 full months from your start date, the miscellaneous lump sum cash allowance must be repaid in full.</p>
            </div>
            <% } %>
        <% } %>
        <p class="text-justify">You will be entitled to the statutory and contractual benefits in Itlay and you will receive further details in your offer pack.</p>
        <p class="text-justify">As a condition of your employment, you will be required to sign a formal employment contract containing the terms set forth in this offer letter. This offer of employment is made subject to:</p>
        <ol>
            <li>Receipt, prior to your start date, of satisfactory written references from your current employer or any other applicable references;</li>
            <li>Successful completion of international background checks;</li>
            <li>Proof of your ability to work in Italy on a continuous basis.</li>
        </ol>
        <p class="text-justify">We respect the privacy of all interns and will comply with all applicable laws regarding processing of  personal information. All such personal  information is processed in accordance with the PayPal Employee Privacy Statement, a copy of which has been given you in connection with this Offer. You acknowledge that you have reviewed and understand the Employee Privacy Statement.</p>
        <p class="text-justify">This offer of employment will lapse if not signed and returned within 10 days of the date of issue.</p>
        <p class="text-justify">Please bring proof of your ability to work in Italy with you on your first day as we will need to see the original and take a copy for our files.</p>
        <p class="text-justify">All of us at <mark><$client.tForWhomUserInfo.EnityName></mark> are very excited about you joining our team and look forward to a beneficial and fruitful working relationship.</p>
        <p class="text-justify">Yours sincerely,</p>
        <p class="text-justify"><mark><%= signatory %></mark></p>
        <p class="text-justify mb-4">For and on behalf of <mark><$client.tForWhomUserInfo.EnityName></mark></p>
        <p class="hide"></p>
    </template>
    
    <div id="offer-letter-body" class="row">
        <div class="col-sm-2">
            <div id="incomplete">
                <div id="markup1"></div>
            </div>
            <div id="complete"></div>
        </div>
        <div class="col-sm-8">
            <div id="incomplete2">
                <div id="markup2"></div>
            </div>
            <div id="complete2"></div>
        </div>
    </div>
    <template id="fragment-3">
        <p class="ml-lg-4">
            <strong>Employee:</strong>
        </p>
    </template>
    <div class="row">
        <div class="col-lg-12">
            <div id="incomplete3">
                <div id="markup3"></div>
            </div>
            <div id="complete3"></div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-sm-2 pt-2 text-sm-right">
            <label for="signature" class="control-label">Signature: <span class="text-danger">*</span></label>
        </div>
        <div class="col-sm-5">
            <$client.env.FormField.signature.HTML>
        </div>
        <div class="col-sm-1 pt-2 text-sm-right">
            <label class="control-label">Date:</label>
        </div>
        <div class="col-sm-3">
            <$client.env.FormField.date.HTML>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-sm-2 pt-2 text-sm-right">
            <label for="full_name" class="control-label">Name:</label>
        </div>
        <div class="col-sm-5">
            <$client.env.FormField.name.HTML>
        </div>
    </div>

    <template id="fragment-4">
        <p class="ml-lg-4">
            <strong>Employer:</strong>
        </p>
    </template>
    <div class="row">
        <div class="col-lg-12">
            <div id="incomplete4">
                <div id="markup4"></div>
            </div>
            <div id="complete4"></div>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-sm-2 pt-2 text-sm-right">
            <label for="signature" class="control-label">Signature: <span class="text-danger">*</span></label>
        </div>
        <div class="col-sm-5">
            <$client.env.FormField.signature2.HTML>
        </div>
        <div class="col-sm-1 pt-2 text-sm-right">
            <label class="control-label">Date:</label>
        </div>
        <div class="col-sm-3">
            <$client.env.FormField.date2.HTML>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-sm-2 pt-2 text-sm-right">
            <label for="full_name" class="control-label">Name:</label>
        </div>
        <div class="col-sm-5">
            <$client.env.FormField.name2.HTML>
        </div>
    </div>

    <hr class="lifesuite__hr">
    <div class="row" id="formButtons" style="display: none;">
        <div class="col-lg-12 clearfix">
            <div class="sign-btn-group">
                <$client.env.FormButtons>
            </div>
        </div>
    </div>
</main>

<div hidden>
    <$client.env.FormField.SignatureVerification.HTML>
    <$client.env.FormField.SignatureVerification2.HTML>
    <$client.env.FormField.hidden_pg1.HTML>
    <$client.env.FormField.hidden_pg2.HTML>     
    <$client.env.FormField.hidden_pg3.HTML>     
    <$client.env.FormField.hidden_pg4.HTML>     
    <$client.env.formfield.EmployeeStamp.html>
    <$client.env.formfield.SignatoryStamp.html>
    <$client.env.formfield.RecruiterStamp.html>
    <$client.env.formfield.SignerMan.html>
    <$client.env.formfield.CoordinatorStamp.html>
    <$client.env.formfield.Current_Date.html>
</div>

</form>
<script src="<$link;/main/RedCarpet/FormTemplates/Italy_Offer_Letter/js/bootstrap.min.js>"></script>
<script type="text/javascript" src="<$link;/main/RedCarpet/FormTemplates/FormSupport/js/front_validator.js>"></script> 
<script type="text/javascript" src="<$link;/main/RedCarpet/FormTemplates/FormSupport/js/moment-with-locales.min.js>"></script> 
<script src="<$link;/main/RedCarpet/FormTemplates/Italy_Offer_Letter/js/ejs.min.js>"></script>
<script src="<$link;/main/RedCarpet/FormTemplates/Italy_Offer_Letter/js/script.js>" defer></script>
<script>
showScreen('over');
ChangeCalendarIcons(); //for popup calendar
const thisForm = document.getElementById('italy-offer-letter');
/* RESPONSIVE eFORM BUTTONS STYLE */
$(document).on('ready', function() {
  $("#buttonCancel").removeClass().addClass("lifesuite__button").prop('id','ButtonCancel');
  $("#buttonSave").removeClass().addClass("lifesuite__button primary").prop('id','ButtonSave');
  $("#buttonSaveAndComplete").removeClass().addClass("lifesuite__button primary").prop('id','ButtonSaveAndComplete').prop('onclick', null);
  $("#buttonPrint").removeClass().addClass("lifesuite__button primary").prop('id','ButtonPrint').prop('onclick', null);
  $("#buttonPreviewDelete").removeClass().addClass("lifesuite__button").prop('id','ButtonPreviewDelete');
  $("#buttonPreviewSave").removeClass().addClass("lifesuite__button primary").prop('id','ButtonPreviewSave');
  $("#buttonComplete").removeClass().addClass("lifesuite__button primary").prop('id','ButtonComplete');
  document.getElementById('formButtons').style.display = "block";
  $("input[type=text]").addClass('lifesuite__text-input');
  $("input[type=text].hasDatepicker").addClass('dateField');
  $("select").addClass('lifesuite__select-input');
  $("input[type=radio]").addClass('lifesuite__radio');
  $("input[type=checkbox]").addClass('lifesuite__checkbox');
  $("textarea").addClass('lifesuite__textarea-input');
  $('label').addClass('lifesuite__input-label lifesuite__inputâ€”block');
  $('.signDate, .dateField').parent().find('input').prop('disabled', true);
});

const data = {
    'Current_Date': document.getElementById('Current_Date').value,
    'signatory': ''
};
const isNewhire = $('#hidden_pg').prop('readonly') || <$client.env.eval((url.forWhom==account.userguid)?'true':'false')>;
// signature section clearing on task reopen variables
const isCoordinator = <$client.env.eval((client.role.rc_hrcoordinators==1)?'true':'false')>;
const isRecruiter = <$client.env.eval((client.tEventManagers_Person_8.UserGuid==account.userguid)?'true':'false')>;
const isSignatory = <$client.env.eval((client.role.rc_italy_company_signatory>0)?'true':'false')>;
const isEmployee = <$client.env.eval((url.forWhom==account.userguid)?'true':'false')>;
const EmployeeStamp = "<$client.env.eval((url.forWhom==account.userguid)?'EmployeeStamp':'')>"; 
if (isSignatory) {
    $('#SignerMan').val("<$client.account.username_first> <$client.account.username>");
}
</script>
