<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 

<!-- Modal E-Signature box: Note there is a DIV below that is also needed to implement --> 

<div class="modal" id="modal" style="display:none;"> 
    <div class="modal-content"> 
        <h2 class="lifesuite__h2"><strong>Electronic Signature</strong></h2> 
        <p style="font-weight:normal;padding:0px"> 
        <$client.env.eval(client.env.param.verbiage.length()==0? 'I understand that by electronically signing this document by typing my full name below, that I acknowledge, agree and attest that the information provided by me is true and correct and I am freely intending to create and adopt as my own a legally binding electronic signature that carries the same legal effect and enforceability as my handwritten.':client.env.param.verbiage)> 
        </p> 
        <br> 
        <div class="row"> 
            <div class="lifesuite__clearfix"> 
            <b>Type your Name:</b> <input type=text id="eSignature1" class="lifesuite__text-input ng-invalid" style="width: 99%">&nbsp; 
            </div> 
        </div> 

        <div class="row"> 
           <div class="lifesuite__clearfix lifesuite__float-right" style="margin-right:-15px; width: 278px;"> 
             <input type="button" class="lifesuite__button primary" value="Sign" onClick="validateSignature('signature','eSignature1','fullName','modal','over','sv','date');xbObj('eSignature1').value='';">&nbsp; 
             <input type="button" class="lifesuite__button" value="Clear" onClick="xbObj('signature').value='';showHide('modal');showHide('over');xbObj('eSignature1').value='';if (typeof targetdatecheckCLEAR == 'function' ){targetdatecheckCLEAR('signature','date');}">&nbsp;
            <input type="button" class="lifesuite__button" value="Cancel" onClick="showHide('modal');showHide('over');xbObj('eSignature1').value='';"> 
            </div> 
        </div> 
      </div> 
</div> 

<div id="over" style="display:none;"></div> 

<SCRIPT> 
    showScreen('over') 
</SCRIPT> 

<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 

<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 

<!-- RESPONSIVE eFORM PAGE LOADER--> 
<div class="modal" style="display:block; background: #002E6D;"> 
    <div class="fb-spinner"> 
        <i class="fa fa-2x fa-spinner fa-pulse"></i> 
    </div> 
</div> 

  
<!--//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// --> 

  

<form name='frmForm' action="<$link;config.path.RCFolder_FormTemplates>/<$name;<$client.current.parent>>/doSave?<$client.env.QUERY_STRING>" method="post" onsubmit="return SubmitCallback(this);" role='form'> 

    <div style="display:none;"> 

        <$client.env.FormField.Form_Name.prompt> 
        <$client.env.FormField.Form_Name.HTML> 
        <$client.env.FormField.Form_Type.prompt> 
        <$client.env.FormField.Form_Type.HTML> 
        <$client.env.FormField.Form_Owner.prompt> 
        <$client.env.FormField.Form_Owner.HTML> 
        <$client.env.FormField.Form_CreateDate.prompt> 
        <$client.env.FormField.Form_CreateDate.HTML> 
        <$client.env.FormField.Form_Completed.prompt> 
        <$client.env.FormField.Form_Completed.HTML> 
        <$client.env.FormField.Form_Delivered.prompt> 
        <$client.env.FormField.Form_Delivered.HTML> 
        <$client.env.FormField.Form_TaskId.prompt> 
        <$client.env.FormField.Form_TaskId.HTML> 
        <$client.env.FormField.display_version.HTML> 

        <!-- Replace With eForm Specific Data Field Prompts From Formalizer--> 
        <$client.env.FormField.country.prompt>
        <$client.env.FormField.govdoc_expiration.prompt>
        <$client.env.FormField.govdoc_id.prompt>
        <$client.env.FormField.govdoc_issued.prompt>
        <$client.env.FormField.govdoc_type.prompt>
        <$client.env.FormField.rtw.prompt>
        <$client.env.FormField.name.prompt>
        <$client.env.FormField.date.prompt>
        <$client.env.FormField.signature.prompt>
    </div> 

    <input type="hidden" name="tagparamlist" value="<$client.env.tagparamlist>"> 
    
     

<div class="container-fluid">  

              <div class="form-group">  
        <!-- Replace With eForm Specific HTML --> 
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 imgr">
                <img src="logo.png" class="img-responsive" style="max-width: 120px;">
            </div>
        </div>
        <!--//Form Title -->
        <div class="row margin-bottom">
            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
            </div>
            <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                <h3>Bank Details Form APAC</h3>
                <p>These are the bank details provided by the employee that is used by Payroll. </p>
            </div>
            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
            </div>
        </div>
        <!--//Section 1 -->
        <div class="row margin-bottom">
            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
            </div>
            <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                <h5 class="margin-bottom">PAYROLL INFORMATION</h5>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-right padding-top">
                        <p style="white-space: nowrap;">Full Legal Name: <span class="font-red">* </span></p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <$client.env.FormField.full_name.HTML>
                        <span class="label-error"> Full Name is required. </span>
                        <span class="label-error letter-only-error"> Name on Account must be letters only and not contain special characters. </span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-right padding-top">
                        <p style="white-space: nowrap;">Bank Name:</p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <$client.env.FormField.bank_name.HTML>
                        <span class="label-error"> Name of Bank is required.</span>
                        <span class="label-error alphanumeric-error"> Bank Name must be alphanumeric characters only.</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-right padding-top">
                        <p>Bank Account #: <span class="font-red">* </span></p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <$client.env.FormField.account_number.HTML>
                        <span class="label-error"> Bank Account Number is required. Numeric values only. </span>
                    </div>
                </div>
                
                <!--India specifc values-->
                <div class='row'>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-right padding-top">
                        <p>Branch Name: <span class="font-red">* </span></p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <$client.env.FormField.branch_name.HTML>
                        <span class="label-error">Name of Branch is required</span>
                    </div>
                </div>
                
                <!--India specifc values-->
                <div class='row'>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 text-right padding-top">
                        <p>IFSC Code: <span class="font-red">* </span></p>
                    </div>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <$client.env.FormField.ifsc_code.HTML>
                        <span class="label-error">IFSC Code is required. Alpha-numeric values only.</span>
                    </div>
                </div>
                
                
            </div>
            
            <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12">
            </div>
            
        </div>
        
                 <br><hr class="lifesuite__hr"> 
                  <div class="row" id="formButtons" style="display: none;"> 
                      <div class="lifesuite__clearfix lifesuite__float-right">                
                              <$client.env.FormButtons> 
                       </div>              
                  </div> 
              </div> 
</div> 

<div style="display:none"> 
    <$client.env.FormField.SignatureVerification.HTML> 
</div> 

</form> 

<SCRIPT> 

    ChangeCalendarIcons(); //for popup calendar  
    
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

/* RESPONSIVE eFORM BUTTONS STYLE */ 
  

$(window).load(function() { 

        $("#buttonCancel").removeClass("appInputButton RCappInputButtonOrange RCappInputButtonBlue"); 
        $("#buttonCancel").addClass("lifesuite__button"); 
        $('#buttonCancel').attr('id','ButtonCancel'); 
        $("#buttonSave").removeClass("appInputButton RCappInputButtonBlue"); 
        $("#buttonSave").addClass("lifesuite__button primary"); 
        $('#buttonSave').attr('id','ButtonSave'); 
        $("#buttonSaveAndComplete").removeClass("appInputButton RCappInputButtonBlue"); 
        $("#buttonSaveAndComplete").addClass("lifesuite__button primary"); 
        $('#buttonSaveAndComplete').attr('id','ButtonSaveAndComplete'); 
        $("#buttonPrint").removeClass("appInputButton RCappInputButtonOrange RCappInputButtonBlue"); 
        $("#buttonPrint").addClass("lifesuite__button"); 
        $('#buttonPrint').attr('id','ButtonPrint'); 
        $("#buttonPreviewDelete").removeClass("appInputButton RCappInputButtonRed"); 
        $("#buttonPreviewDelete").addClass("lifesuite__button"); 
        $('#buttonPreviewDelete').attr('id','ButtonPreviewDelete'); 
        $("#buttonPreviewSave").removeClass("appInputButton RCappInputButtonBlue"); 
        $("#buttonPreviewSave").addClass("lifesuite__button primary"); 
        $('#buttonPreviewSave').attr('id','ButtonPreviewSave'); 
        $("#buttonComplete").removeClass("appInputButton RCappInputButtonBlue"); 
        $("#buttonComplete").addClass("lifesuite__button primary"); 
        $('#buttonComplete').attr('id','ButtonComplete');        

       document.getElementById('formButtons').style.display = "block"; 

        $("input[type=text]").addClass('lifesuite__text-input'); 
        $("input[type=text].hasDatepicker").addClass('dateField'); 
        $("select").addClass('lifesuite__select-input'); 
        $("input[type=radio]").addClass('lifesuite__radio'); 
        $("input[type=checkbox]").addClass('lifesuite__checkbox'); 
        $("textarea").addClass('lifesuite__textarea-input'); 
        $('label').addClass('lifesuite__input-label lifesuite__inputâ€”block'); 
}); 
 
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 


</SCRIPT>

<script>
disableCalButton("signDate");

//Transform field input to Uppercase
$('.toUpperAlphaNum').keyup(function () {
    //console.log(this.value);
    var str = $(this).val();

   if (!this.value.match(/^([a-zA-Z0-9]*)$/)) {
       str = str.replace(/[^[a-zA-Z0-9]/g, '');
    }
    this.value = str.toUpperCase();
});
    
    
function validateFormFields(em){
    
    
        
    function IFSCIsReq(){
        var IFSC_regex = /^[A-Z]{4}0[A-Z0-9]{6}$/ ;
        if (IFSC_regex.test($('input#IFSCcode').val()) == false) {
            $('input#IFSCcode').addClass('input-error');
            //$('input#IFSCcode').parent().next().children("span.label-error:first").css("display","block");
            $('input#IFSCcode').parent().children("span.label-error:first").css("display","block");

            i++;
        }
    }
    
    var i=0;
    //Text Fields
    $(".require").each(function(){
        var el_val=$(this).val();
        if(el_val==''){
            $(this).addClass('input-error');
            $(this).parent().children("span.label-error:first").css("display","block");
            i++;
            //console.log(this + " err");

        }else{
            $(this).removeClass('input-error');
            $(this).parent().children("span.label-error:first").css("display","none");
        }
    });
    $(":input.letter-only").each(function() {
    var el_val=$(this).val();
        if(!/^[a-zA-Z ]+$/.test(el_val) && el_val.length > 0){
        $(this).addClass('input-error');
        $(this).parent().children("span.letter-only-error:first").css("display","block");
        }else{
        $(this).removeClass('input-error');
        $(this).parent().children("span.letter-only-error:first").css("display","none");
        }
    });
    $(":input.alphanumeric").each(function() {
    var el_val=$(this).val();
        if(!/^[a-zA-Z0-9]+$/.test(el_val) && el_val.length > 0){
        $(this).addClass('input-error');
        $(this).parent().children("span.alphanumeric-error:first").css("display","block");
        }else{
        $(this).removeClass('input-error');
        $(this).parent().children("span.alphanumeric-error:first").css("display","none");
        }
    });
    
    //specific to bank details
    var AN_regex = /^(?=.*[0-9])[0-9]*?$/ ;

    if (AN_regex.test($('input#AccountNumber').val()) == false) {
        $('input#AccountNumber').addClass('input-error');
        $('input#AccountNumber').parent().children("span.label-error:first").css("display","block");
        i++;

    }
    
    <$client.env.eval((client.tEventCategories_25.Value=='Mumbai') || (client.tEventCategories_25.Value=='New Delhi') || (client.tEventCategories_25.Value=='Bangalore') || (client.tEventCategories_25.Value=='Chennai')?'IFSCIsReq();':'')>
         
    
    if(i != 0){
        $('.error-tab').addClass('show');
        $('body').scrollTop(0);
    }
    else{
      if(em.id == 'ButtonPrint'){
         funcPrint();
       }
       else if(em.id == 'ButtonSaveAndComplete'){
         funcSaveAndComplete();
       }
       else if(em.id == 'ButtonSave'){
         funcSave();
       }
       else{
         return false;
      }
    }
}


$('input#AccountNumber').on("blur", function() {
var AN_regex = /^(?=.*[0-9])[0-9]*?$/ ;
if(AN_regex.test($(this).val()) == false){
    $(this).addClass('input-error');
    $('input#AccountNumber').parent().children("span.label-error:first").css("display","block");


}
else{
$(this).removeClass('input-error');
$('input#AccountNumber').parent().children("span.label-error:first").css("display","none");
    
}
}); 

$('input#IFSCcode').on("blur", function() {
var IFSC_regex = /^[A-Z]{4}0[A-Z0-9]{6}$/ ;
if(IFSC_regex.test($(this).val()) == false){
$(this).addClass('input-error');
    $('input#IFSCcode').parent().children("span.label-error:first").css("display","block");

    console.log("ifsc err");
}
else{
$(this).removeClass('input-error');
$('input#IFSCcode').parent().children("span.label-error:first").css("display","none");
    
        console.log("no ifsc err");

}
});
    
    
//Text Fields
$(":input.require").on("blur", function() {
var el_val=$(this).val();
    if(el_val.length == 0){
    $(this).addClass('input-error');
    $(this).parent().children("span.label-error:first").css("display","block");
    }else{
    $(this).removeClass('input-error');
    $(this).parent().children("span.label-error:first").css("display","none");
    }
});
$(":input.letter-only").on("blur", function() {
var el_val=$(this).val();
    if(!/^[a-zA-Z ]+$/.test(el_val) && el_val.length > 0){
    $(this).addClass('input-error');
    $(this).parent().children("span.letter-only-error:first").css("display","block");
    }else{
    $(this).removeClass('input-error');
    $(this).parent().children("span.letter-only-error:first").css("display","none");
    }
});
$(":input.alphanumeric").on("blur", function() {
var el_val=$(this).val();
    if(!/^[a-zA-Z0-9]+$/.test(el_val) && el_val.length > 0){
    $(this).addClass('input-error');
    $(this).parent().children("span.alphanumeric-error:first").css("display","block");
    }else{
    $(this).removeClass('input-error');
    $(this).parent().children("span.alphanumeric-error:first").css("display","none");
    }
});

$("select.require").on("change", function() {
var el_val=$(this).val();
    if(el_val.length == 0){
    $(this).addClass('input-error');
    $(this).parent().children("span.label-error:first").css("display","block");
    }else{
    $(this).removeClass('input-error');
    $(this).parent().children("span.label-error:first").css("display","none");
    }
});

//Checkbox or Radiobutton
$('input.requireCheckbox1').change(function() {
if($(this).prop('checked')){
    $(this).parent().parent().parent().parent().siblings('label').css("color","#212121");
    }
    else{
    $(this).parent().parent().parent().parent().siblings('label').css("color","#FF4D4D");
    }
});

$('input.requireCheckbox2').change(function() {
if($(this).prop('checked')){
    $(this).parent().parent().parent().parent().siblings('label').css("color","#212121");
    }
    else{
    $(this).parent().parent().parent().parent().siblings('label').css("color","#FF4D4D");
    }
});

$(':input.requiredCheck').change(function() {
    if($(this).prop('checked')){
    $(this).parent().parent().parent().parent().siblings('label').css("color","#212121");
    }
    else{
    $(this).parent().parent().parent().parent().siblings('label').css("color","#FF4D4D");
    }
});




//Submit Buttons
$('#buttonPrint').removeAttr('onclick');
$('#buttonPrint').attr('onclick', 'validateFormFields(this)');
$('#buttonSaveAndComplete').removeAttr('onclick');
$('#buttonSaveAndComplete').attr('onclick', 'validateFormFields(this)');


</script>
